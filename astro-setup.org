
#+begin_src emacs-lisp
(setq treesit-language-source-alist
      '((astro "https://github.com/virchau13/tree-sitter-astro")))

;; Install the grammar
(treesit-install-language-grammar 'astro)

;; Check if Astro grammar is available
(treesit-ready-p 'astro)

;; Define the grammar sources
(setq treesit-language-source-alist
      '((astro "https://github.com/virchau13/tree-sitter-astro")
        (css "https://github.com/tree-sitter/tree-sitter-css")
        (typescript "https://github.com/tree-sitter/tree-sitter-typescript" "master" "typescript/src")
        (tsx "https://github.com/tree-sitter/tree-sitter-typescript" "master" "tsx/src")))

;; Install all required grammars
(mapc #'treesit-install-language-grammar '(astro css typescript tsx))


(defun check-treesit-grammars ()
  "Check which tree-sitter grammars are available."
  (interactive)
  (let ((required '(astro css typescript tsx)))
    (dolist (lang required)
      (message "%s: %s"
               lang
               (if (treesit-ready-p lang t) "✓ Installed" "✗ Missing")))))

;; Run it
(check-treesit-grammars)

;; Run it
(check-treesit-grammars)
#+end_src 
