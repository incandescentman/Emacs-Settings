#+TITLE: Calendar & Markdown Diary Keybindings
#+AUTHOR: Jay Dixit
# +DATE: <2025-10-14>

This reference lists the active keybindings that connect the Emacs calendar buffer with the Markdown diary maintained by ~markdown-diary.el~.

* Calendar Mode Bindings
These bindings live in ~calendar-mode-map~.

| Key / Prefix     | Command                           | Effect                                                            |
|------------------+-----------------------------------+-------------------------------------------------------------------|
| ~RET~            | ~my-calendar-view-and-edit-entry~ | Show the fancy diary listing while keeping focus in Calendar.     |

| ~e~              | ~my-calendar-edit-diary-entry~    | Jump to the diary entry for the selected date and remain there.   |

| ~o~              | ~my-calendar-jump-to-diary-entry~ | Open the diary entry in another window without changing Calendar. |

| ~t~              | today + diary                     | Move to today and immediately display the diary entry.            |

| ~n~, ~M-<right>~ | month forward                     | Advance one month.                                                |

| ~p~, ~M-<left>~  | month backward                    | Go back one month.                                                |

| ~N~              | year forward                      | Advance one year.                                                 |

| ~P~              | year backward                     | Go back one year.                                                 |

| ~i~              | ~my-calendar-insert-diary-entry~  | Prompt for Markdown text, insert chronologically, return to Cal.  |

| ~C-u i~          | ~my-calendar-insert-diary-entry~  | Same as above but remain in the diary buffer (prefix argument).   |

| ~I~              | ~calendar-insert-diary-entry~     | Stock Emacs inserter kept as a fallback, Markdown-agnostic.       |

* Markdown Diary Buffer Helpers
The diary lives in ~~/Dropbox/github/timeless/jay-diary.md~ and is displayed in ~markdown-mode~.

| Key                 | Command                          | Effect                                                 |
|---------------------+----------------------------------+--------------------------------------------------------|
| ~s-.~ (Command-.)   | ~my-calendar-focus-calendar-window~ | Re-focus the live Calendar window from the diary buffer. |

* Behaviour Notes
Entry insertion ensures headings for the correct year/month, maintains chronological day ordering, and enforces a blank line before each ~M/D/YYYY~ block. Newly inserted text retains Markdown bullets (no Org conversion) and appends additional bullets to existing dates without duplication. All helpers are defined in ~markdown-diary.el~ and loaded via ~shared-functions.org~.
