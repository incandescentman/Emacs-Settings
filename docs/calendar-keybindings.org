#+TITLE: Calendar & Markdown Diary Keybindings
#+AUTHOR: Jay Dixit
#+DATE: <2025-10-14>

This reference lists the active keybindings that connect the Emacs Calendar buffer with the Markdown diary maintained by ~markdown-diary.el~.

* Calendar Mode Bindings
These bindings live in ~calendar-mode-map~.

~RET~   ~my-calendar-open-diary-entry~
     - Jump straight into the Markdown diary entry for the selected date and leave focus there.

~e~   ~my-calendar-edit-diary-entry~
     - Jump to the diary entry for the selected date and stay there.

~o~   ~my-calendar-view-fancy-listing~
     - Show the fancy diary listing for the date at point, then reselect the Calendar window.

~t~   today + diary
     - Move to today and immediately display todayâ€™s diary entry.

~n~, ~M-<right>~   month forward
     - Advance one month.

~p~, ~M-<left>~   month backward
     - Go back one month.

~N~   year forward
     - Advance one year.

~P~   year backward
     - Go back one year.

~i~   ~my-calendar-insert-diary-entry~
     - Prompt for Markdown text, insert it chronologically, and return to the Calendar window.

~c~   ~my-calendar-insert-diary-entry~
     - Same as ~i~; quick alias for creating a diary entry while staying on the home row.

~C-u i~   ~my-calendar-insert-diary-entry~
     - Same as above, but remain in the diary buffer (prefix argument).

~I~   ~calendar-insert-diary-entry~
     - Stock Emacs inserter kept as a fallback, Markdown-agnostic.

* Markdown Diary Helpers
The diary lives in ~~/Dropbox/github/timeless/jay-diary.md~ and is displayed in ~markdown-mode~.

~s-.~ (Command-.)   ~my-calendar-focus-calendar-window~
     - Refocus the live Calendar window from within the diary buffer.

* Behaviour Notes
Entry insertion ensures headings for the correct year and month, maintains chronological day ordering, and enforces a blank line before each ~M/D/YYYY~ block. Newly inserted text retains Markdown bullets (no Org conversion) and appends additional bullets to existing dates without duplication. All helpers are defined in ~markdown-diary.el~ and loaded via ~shared-functions.org~.
